# YouTube to Podcast Converter - Features

## ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. üéØ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ –∏–∑ YouTube –≤–∏–¥–µ–æ (yt-dlp)
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ m4a/mp3 —Ñ–æ—Ä–º–∞—Ç (FFmpeg)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è RSS —Ñ–∏–¥–∞ (iTunes —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π)
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–ø–∫–∞—Ö

### 2. üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ Apple-style –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω (—á–µ—Ä–Ω–æ-–±–µ–ª—ã–π)
- ‚úÖ Responsive layout (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
- ‚úÖ Real-time —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏** üìä
  - –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (0-100%)
  - –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ (KB/s, MB/s)
  - –û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è (ETA)
  - –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

### 3. üöÄ Backend
- ‚úÖ Flask REST API
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (threading)
- ‚úÖ Job tracking system
- ‚úÖ Progress streaming —á–µ—Ä–µ–∑ polling
- ‚úÖ Error handling –∏ logging
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env —Ñ–∞–π–ª

### 4. üì§ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Mave.digital
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **5 –º–µ—Ç–æ–¥–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏**:
  1. **Manual** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
  2. **WebDAV** - –¥–ª—è –æ–±–ª–∞—á–Ω—ã—Ö —Ö–æ—Å—Ç–∏–Ω–≥–æ–≤
  3. **FTP** - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª
  4. **SFTP** - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π FTP
  5. **rsync** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ RSS —Ñ–∏–¥–∞
- ‚úÖ Connection testing –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
- ‚úÖ Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ

### 5. üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ **YouTube 403 Forbidden** - –æ–±—Ö–æ–¥ —á–µ—Ä–µ–∑ multiple player clients
- ‚úÖ **Datetime timezone** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å UTC
- ‚úÖ **Thumbnail format** - graceful handling WebP —Ñ–æ—Ä–º–∞—Ç–∞
- ‚úÖ **Duplicate detection** - –ø—Ä–æ–≤–µ—Ä–∫–∞ GUID –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 6. üìä RSS Feed
- ‚úÖ iTunes podcast —Ç–µ–≥–∏ (author, category, duration, explicit)
- ‚úÖ Episode metadata (title, description, pubDate, enclosure)
- ‚úÖ Atom self-link –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ MIME types (audio/mp4, audio/mpeg)
- ‚úÖ –í–∞–ª–∏–¥–Ω—ã–π XML (–ø—Ä–æ–≤–µ—Ä–µ–Ω)
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ø–∏–∑–æ–¥–æ–≤ (configurable)

### 7. ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ `.env` —Ñ–∞–π–ª –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ Dataclass-based configuration
- ‚úÖ Validation –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ error messages
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è:
  - Podcast metadata (title, description, author)
  - Audio format (m4a/mp3)
  - Feed limits
  - Upload method –∏ credentials

## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã

### –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤ –¥–µ–π—Å—Ç–≤–∏–∏
```
Downloading: 45.3% (8.9 MB/s, ETA: 3s)
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì] 45%
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
```
‚úì Rick Astley - Never Gonna Give You Up
  –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 03:33
  dQw4w9WgXcQ.m4a
```

## üéØ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Backend:**
- Python 3.9+
- Flask 3.0 (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)
- yt-dlp (YouTube downloader)
- feedgen (RSS generation)
- FFmpeg (audio conversion)

**Frontend:**
- Vanilla JavaScript (ES6+)
- CSS3 (Apple-style –¥–∏–∑–∞–π–Ω)
- No frameworks (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)

**Upload:**
- webdavclient3 (WebDAV support)
- paramiko (SFTP support)
- ftplib (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è FTP –ø–æ–¥–¥–µ—Ä–∂–∫–∞)
- rsync (—á–µ—Ä–µ–∑ subprocess)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
youtube-podcast/
‚îú‚îÄ‚îÄ web.py                    # Flask –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ yt2pod.py                # CLI –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ config.py                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ .env.example            # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ downloader.py       # YouTube –∑–∞–≥—Ä—É–∑–∫–∞ + progress tracking
‚îÇ   ‚îú‚îÄ‚îÄ rss_manager.py      # RSS –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ url_processor.py    # URL –ø–∞—Ä—Å–∏–Ω–≥
‚îÇ   ‚îú‚îÄ‚îÄ logger.py           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ mave_uploader.py    # üÜï –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Mave
‚îÇ
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html          # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ app.js              # Frontend –ª–æ–≥–∏–∫–∞ + progress bar
‚îÇ   ‚îî‚îÄ‚îÄ style.css           # Apple-style –¥–∏–∑–∞–π–Ω
‚îÇ
‚îî‚îÄ‚îÄ podcast/
    ‚îú‚îÄ‚îÄ rss.xml             # RSS —Ñ–∏–¥
    ‚îî‚îÄ‚îÄ media/              # –ê—É–¥–∏–æ —Ñ–∞–π–ª—ã
        ‚îú‚îÄ‚îÄ dQw4w9WgXcQ.m4a
        ‚îî‚îÄ‚îÄ X-ot9682-1w.m4a
```

## üöÄ Quick Start

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π .env:
# - SITE_URL (—Ç–≤–æ–π Mave.digital URL)
# - MEDIA_BASE_URL
# - MAVE_UPLOAD_METHOD (manual/webdav/ftp/sftp)
```

### 3. –ó–∞–ø—É—Å–∫
```bash
# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
python web.py
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5001

# CLI –≤–µ—Ä—Å–∏—è
python yt2pod.py "https://www.youtube.com/watch?v=VIDEO_ID"
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: Manual (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```bash
MAVE_UPLOAD_METHOD="manual"
```
–§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Ä—É—á–Ω—É—é.

### –í–∞—Ä–∏–∞–Ω—Ç 2: WebDAV
```bash
MAVE_UPLOAD_METHOD="webdav"
MAVE_WEBDAV_URL="https://cloud.mave.digital/67282/webdav"
MAVE_USERNAME="your_username"
MAVE_PASSWORD="your_password"
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: FTP/SFTP
```bash
MAVE_UPLOAD_METHOD="sftp"  # –∏–ª–∏ "ftp"
MAVE_FTP_HOST="ftp.mave.digital"
MAVE_USERNAME="your_username"
MAVE_PASSWORD="your_password"
MAVE_FTP_PORT="22"  # 21 –¥–ª—è FTP, 22 –¥–ª—è SFTP
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: rsync
```bash
MAVE_UPLOAD_METHOD="rsync"
MAVE_FTP_HOST="your-server.com"
MAVE_USERNAME="your_username"
# –¢—Ä–µ–±—É–µ—Ç SSH key setup
```

## üìä API Endpoints

```
GET  /                      # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
GET  /api/config            # –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
POST /api/process           # –ù–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É URL
GET  /api/status/<job_id>   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏
```

### –ü—Ä–∏–º–µ—Ä API –∑–∞–ø—Ä–æ—Å–∞
```bash
# –ù–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É
curl -X POST http://localhost:5001/api/process \
  -H "Content-Type: application/json" \
  -d '{"url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ"}'

# –û—Ç–≤–µ—Ç:
{
  "job_id": 1,
  "status": "pending"
}

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
curl http://localhost:5001/api/status/1

# –û—Ç–≤–µ—Ç —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º:
{
  "id": 1,
  "status": "processing",
  "message": "Downloading: 45.3% (8.9 MB/s, ETA: 3s)",
  "progress": {
    "status": "downloading",
    "percent": 45.3,
    "speed": "8.9 MB/s",
    "eta": "3s"
  }
}
```

## üéì Lessons Learned

### –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
1. **YouTube 403** ‚Üí user-agent + multiple player clients
2. **Timezone errors** ‚Üí always use UTC with timezone info
3. **WebP thumbnails** ‚Üí try-except with graceful fallback
4. **Progress tracking** ‚Üí yt-dlp progress_hooks
5. **Stale snapshots** ‚Üí always take fresh snapshot before UI interaction

### Best practices
- ‚úÖ Use dataclasses –¥–ª—è configuration
- ‚úÖ Separate concerns (downloader, RSS, uploader)
- ‚úÖ Progress callbacks –¥–ª—è user feedback
- ‚úÖ Graceful error handling
- ‚úÖ Comprehensive logging
- ‚úÖ Environment-based configuration

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### v2.0 Features
- [ ] Batch processing (–Ω–µ—Å–∫–æ–ª—å–∫–æ URL –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
- [ ] Playlist support
- [ ] Scheduled downloads (cron-like)
- [ ] Webhook notifications
- [ ] Dark mode toggle
- [ ] Audio normalization
- [ ] ID3 tags embedding
- [ ] Chapter markers
- [ ] Multi-language support
- [ ] Docker container
- [ ] Desktop app (Electron)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [ ] Spotify podcasts
- [ ] SoundCloud
- [ ] Apple Podcasts API
- [ ] Telegram bot
- [ ] Discord bot

## üìù License

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π –∫–∞–∫ —Ö–æ—á–µ—à—å!

## ü§ù Contributing

Pull requests welcome! 

## üí¨ Support

–í–æ–ø—Ä–æ—Å—ã? –û—Ç–∫—Ä–æ–π issue –≤ GitHub –∏–ª–∏ —Å–≤—è–∂–∏—Å—å —Å –∞–≤—Ç–æ—Ä–æ–º.

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –ø–æ–¥–∫–∞—Å—Ç–æ–≤**
